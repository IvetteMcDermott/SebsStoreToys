{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'sts_store/css/sts_store.css' %}">
{% endblock %}

{% block head %}

<title>SebsToyStore - Wares</title>

{% endblock %}

{% block content %}

{% include 'includes/delivery_banner.html' %}

{% include 'includes/store_bar.html' %}

<div class="row w-100">
    <div class="row w-100">
        <h2 class="w-100 text-center mt-5 ml-5 mb-1 text-orange text-uppercase pages-title">Wares</h2>
    </div>
    <div class="row w-100 pl-5">
        {% if search %}
        <div class="col">
            <p ><span class="text-orange w-100">{{ object_list|length }}</span> wares to display for "{{ search }}"</p>
        </div>
        {% endif %}
        {% if paginator %}
        <div class="col d-flex justify-content-end" style="line-height: 1.5em;">
            <span > {% include 'includes/paginator.html' %} </span>
        </div>
        {% endif %}
    </div>
</div>

<!--THIS IS LIST VIEW-->
<section>
        <!-- A CARD BY WARE -->
    <div class="container-fluid" style="min-height: 50vh;">
        <div class="row d-flex">
            {% for ware in object_list %}
            <div class="col">
                <div class="card ware-card">>
                        <a href="{% url 'sts_store:ware_detail' ware.id %}" class="post-link"
                        style="z-index: 2; height: 60%;">

                        <div class="image-container d-flex " style=" min-width: 12em; max-height: 100%;"
                            style="z-index: 2;">
                            {% for photo in ware.ware_image.all %}
                            {% if forloop.counter == 1 %}
                            <img src="{{ photo.image.url }}" class="justify-items-center"
                                style="object-fit: scale-down;" alt="image">
                            {% endif %}
                            {% endfor %}
                        </div>
                    </a>
                    <div class="container-fluid" style="z-index: 2;">
                        <h4 class="card-title text-center mt-0 text-orange">{{ ware.name }}</h4>
                        <div class="row">
                            <div class="col-6">
                                <h6 class="card-title text-start mb-1">{{ ware.subcategory.category }}</h6>
                                <h6 class="card-title text-start">{{ ware.subcategory }}</h6>
                                <h6 class="card-title text-start text-orange">â‚¬ {{ ware.price }}</h6>
                            </div>
                            <div class="col-6 p-0">
                                <div style="z-index: 2;">
                                    {% include 'cart/quantity_form_qb.html' %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    <button onclick="topFunction()" id="myBtn" class="btn btn-outline-info pages-title btn-shadow" title="Go to top">Top</button>

</section>


{% endblock %}
  
{% block togglejs %}

<script>
    function toggleV() {
        let div = document.getElementById('videos-games')
        if (div.style.display === 'none') {
            div.style.display = 'block';
        } else {
            div.style.display = 'none';
        }
    }

    function toggleE() {
        let div = document.getElementById('educational')
        if (div.style.display === 'none') {
            div.style.display = 'block';
        } else {
            div.style.display = 'none';
        }
    }

    function toggleB() {
        let div = document.getElementById('board-games')
        if (div.style.display === 'none') {
            div.style.display = 'block';
        } else {
            div.style.display = 'none';
        }
    }

    function toggleF() {
        let div = document.getElementById('figures')
        if (div.style.display === 'none') {
            div.style.display = 'block';
        } else {
            div.style.display = 'none';
        }
    }
</script>
{% endblock %}

{% block topbtnJs %}
<script>
    // Took from https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_scroll_to_top
    // Get the button
    let mybutton = document.getElementById("myBtn");
    
    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function() {scrollFunction()};
    
    function scrollFunction() {
      if (document.body.scrollTop > 10 || document.documentElement.scrollTop > 10) {
        mybutton.style.display = "block";
      } else {
        mybutton.style.display = "none";
      }
    }
    
    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    }
    </script>
  
{% endblock %}